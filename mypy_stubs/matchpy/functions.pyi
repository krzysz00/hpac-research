# Stubs for matchpy.functions (Python 3.6)
#
# NOTE: This dynamically typed stub was automatically generated by stubgen.

from .expressions.expressions import Expression, Pattern
from .expressions.substitution import Substitution
from typing import Any, Iterable, List, Sequence, Tuple, Union, NamedTuple, Callable

Replacement = Union[Expression, List[Expression]]

def substitute(expression: Union[Expression, Pattern], substitution: Substitution) -> Replacement: ...
def replace(expression: Expression, position: Sequence[int], replacement: Replacement) -> Replacement: ...
def replace_many(expression: Expression, replacements: Sequence[Tuple[Sequence[int], Replacement]]) -> Replacement: ...

ReplacementRule = NamedTuple('ReplacementRule', [('pattern', Pattern), ('replacement', Callable[..., Expression])])

def replace_all(expression: Expression, rules: Iterable[ReplacementRule], max_count: Union[int, float]=...) -> Union[Expression, Sequence[Expression]]: ...
def replace_all_post_order(expression: Expression, rules: Iterable[ReplacementRule]) -> Union[Expression, Sequence[Expression]]: ...
def is_match(subject: Expression, pattern: Expression) -> bool: ...
